document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("latency-chart-svg"),t=document.getElementById("inference-chart-container");if(e&&t){const n=n=>{if(!n.graphs||!n.graphs.latency_history||!n.graphs.inference_by_model)return void console.error("Dados do gráfico não encontrados no arquivo JSON.");const o=e.parentElement.querySelector(".text-3xl"),a=t.parentElement.querySelector(".text-3xl");(e=>{const t=n.graphs.latency_history,a=t.reduce((e,t)=>e+t,0)/t.length;o&&(o.textContent=`Média: ${a.toFixed(0)}ms`);let s=`M 0,${150-t[0]}`;for(let n=0;n<t.length-1;n++){const o=n*472/(t.length-1),a=150-e[n],c=(n+1)*472/(t.length-1),r=150-e[n+1],l=(o+c)/2;s+=` Q ${o},${a} ${l},${(a+r)/2}`}const c=document.createElementNS("http://www.w3.org/2000/svg","path"),r=document.createElementNS("http://www.w3.org/2000/svg","path"),l=`${s} V 150 H 0 Z`;c.setAttribute("d",s),c.setAttribute("stroke","#4a90e2"),c.setAttribute("stroke-width","2"),c.setAttribute("fill","none"),c.setAttribute("stroke-linecap","round"),r.setAttribute("d",l),r.setAttribute("fill","url(#paint0_linear_area)"),e.innerHTML="",e.appendChild(r),e.appendChild(c)})(),(e=>{const n=t,o=n.parentElement.querySelector(".text-3xl"),s=e.reduce((e,t)=>e+t.time,0)/e.length;o&&(o.textContent=`Média: ${s.toFixed(0)}ms`),n.innerHTML="";const c=Math.max(...e.map(e=>e.time),1);e.forEach(e=>{const t=e.time/c*100,o=`
                    <div class="flex flex-col items-center gap-2">
                        <div class="w-full bg-[#30363d] rounded-t-sm" style="height: 100%;">
                            <div class="h-full w-full bg-[#4a90e2] rounded-t-sm" style="height: ${t}%;"></div>
                        </div>
                        <p class="text-gray-400 text-xs text-center">${e.model}</p>
                    </div>
                `;n.insertAdjacentHTML("beforeend",o)})})(n.graphs.inference_by_model)};fetch("uptime-data.json?cache_bust="+Date.now()).then(e=>e.ok?e.json():Promise.reject("Falha ao carregar dados de uptime.")).then(e=>n(e)).catch(e=>console.error("Erro ao renderizar gráficos:",e))}});
