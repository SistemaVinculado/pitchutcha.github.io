document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("toc-container");if(e){const t=document.querySelector(".flex-1.overflow-y-auto");if(t){const n=t.querySelectorAll("article section[id]");if(0===n.length)e.innerHTML='<p class="text-sm text-[var(--text-secondary)]">Não há seções nesta página.</p>';else{const o=[];n.forEach(n=>{const s=n.querySelector("h2");if(s){const a=document.createElement("a");a.className="block rounded-md px-3 py-2 text-sm font-medium text-[var(--text-primary)] hover:bg-[var(--secondary-color)] transition-colors",a.href=`#${n.id}`,a.textContent=s.textContent,e.appendChild(a),o.push(a)}});const s=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target.id,s=document.querySelector(`#toc-container a[href="#${n}"]`);o.forEach(e=>e.classList.remove("active-toc")),s&&s.classList.add("active-toc")}})},{root:t,threshold:.1,rootMargin:"-40% 0px -60% 0px"});n.forEach(e=>s.observe(e));const a=document.createElement("style");a.textContent=".active-toc { background-color: var(--secondary-color); color: var(--primary-color); font-weight: 600; }",document.head.appendChild(a)}}}});
