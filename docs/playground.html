<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Pitchutcha Code Playground</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    <link href="data:image/x-icon;base64," type="image/x-icon"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/theme/material-darker.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/python/python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"></script>
    <style>
        body { font-family: "Noto Sans", sans-serif; background-color: #0d1117; color: #e6edf3; }
        .CodeMirror { font-family: 'Space Mono', monospace; height: 100%; font-size: 14px; border-radius: 0.375rem; }
        .CodeMirror-gutters { background: #1e1e1e !important; }
        #output-panel, #diagnostics-panel, #variables-panel, #benchmark-results-panel { font-family: 'Space Mono', monospace; white-space: pre-wrap; word-break: break-all; }
        .tab-btn.active { background-color: #3b82f6; color: white; }
        .tab-panel { display: none; }
        .tab-panel.active { display: flex; }
        .line-highlight { background: rgba(255, 255, 255, 0.1); }
    </style>
</head>
<body class="flex h-screen w-full flex-col">
    <header class="flex h-14 shrink-0 items-center justify-between border-b border-gray-800 px-4">
        <div class="flex items-center gap-3">
            <svg height="28" viewBox="0 0 32 32" width="28" class="fill-current text-purple-400"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 4C9.37 4 4 9.37 4 16s5.37 12 12 12 12-5.37 12-12S22.63 4 16 4zM0 16C0 7.16 7.16 0 16 0s16 7.16 16 16-7.16 16-16 16S0 24.84 0 16z"/></svg>
            <h1 class="text-lg font-semibold">Pitchutcha Playground</h1>
        </div>
        <div class="flex items-center gap-2">
             <div id="pyodide-status" class="text-sm text-gray-400">Carregando ambiente...</div>
             <button class="text-sm font-medium text-gray-400 hover:text-white" onclick="window.close()">Fechar</button>
        </div>
    </header>

    <div class="flex h-12 shrink-0 items-center gap-4 border-b border-gray-800 bg-gray-900 px-4">
        <button data-tab="simple-editor" class="tab-btn active rounded-md px-3 py-1.5 text-sm font-medium">Editor Simples</button>
        <button data-tab="benchmark" class="tab-btn rounded-md px-3 py-1.5 text-sm font-medium">Benchmark</button>
        <button data-tab="visualizer" class="tab-btn rounded-md px-3 py-1.5 text-sm font-medium">Visualizador</button>
    </div>

    <div class="flex flex-1 overflow-hidden">
        <div id="tab-simple-editor" class="tab-panel active flex-1 flex-col p-2 gap-2">
            <div class="flex-1" id="editor-container-simple"></div>
            <div class="flex h-1/3 flex-col border-t border-gray-800 rounded-md overflow-hidden">
                <div class="flex justify-between items-center bg-gray-900 px-4 py-2">
                    <h3 class="text-sm font-semibold uppercase tracking-wider text-gray-400">Saída</h3>
                    <button id="run-btn-simple" class="flex items-center gap-2 rounded-md bg-green-600 px-3 py-1.5 text-sm font-semibold text-white hover:bg-green-700 disabled:opacity-50">
                        <span class="material-symbols-outlined text-base">play_arrow</span>
                        <span>Executar</span>
                    </button>
                </div>
                <pre id="output-panel-simple" class="flex-1 overflow-auto bg-[#0d1117] p-4 text-sm"></pre>
            </div>
        </div>

        <div id="tab-benchmark" class="tab-panel flex-1 hidden p-2 gap-2">
            <div class="flex-1 flex flex-col gap-2">
                <h3 class="text-center font-semibold text-gray-300">Algoritmo A</h3>
                <div class="flex-1" id="editor-container-benchmark-a"></div>
            </div>
            <div class="flex-1 flex flex-col gap-2">
                <h3 class="text-center font-semibold text-gray-300">Algoritmo B</h3>
                <div class="flex-1" id="editor-container-benchmark-b"></div>
            </div>
            <div class="w-80 flex flex-col border-l border-gray-800">
                <div class="p-4">
                    <button id="run-btn-benchmark" class="w-full flex items-center justify-center gap-2 rounded-md bg-blue-600 px-3 py-1.5 text-sm font-semibold text-white hover:bg-blue-700 disabled:opacity-50">
                        <span class="material-symbols-outlined text-base">speed</span>
                        <span>Iniciar Benchmark</span>
                    </button>
                </div>
                <h3 class="px-4 py-2 text-sm font-semibold uppercase tracking-wider text-gray-400 border-y border-gray-800">Resultados</h3>
                <pre id="benchmark-results-panel" class="flex-1 overflow-auto p-4 text-sm"></pre>
            </div>
        </div>

        <div id="tab-visualizer" class="tab-panel flex-1 hidden p-2 gap-2">
            <div class="w-1/2 flex flex-col gap-2">
                <div class="flex-1" id="editor-container-visualizer"></div>
                <div class="flex h-12 shrink-0 items-center justify-center gap-2 border-t border-gray-800 pt-2">
                    <button id="visualizer-reset-btn" class="p-2 rounded-full hover:bg-gray-800 disabled:opacity-50"><span class="material-symbols-outlined">replay</span></button>
                    <button id="visualizer-prev-btn" class="p-2 rounded-full hover:bg-gray-800 disabled:opacity-50"><span class="material-symbols-outlined">chevron_left</span></button>
                    <button id="visualizer-next-btn" class="p-2 rounded-full hover:bg-gray-800 disabled:opacity-50"><span class="material-symbols-outlined">chevron_right</span></button>
                </div>
            </div>
            <div class="w-1/2 flex flex-col gap-2 border-l border-gray-800">
                <div class="flex-1 p-2">
                     <h3 class="px-2 pb-2 text-sm font-semibold uppercase tracking-wider text-gray-400">Visualização Gráfica</h3>
                     <div id="graphic-visualizer-panel" class="w-full h-5/6 bg-[#0d1117] rounded-md p-2 flex items-end gap-1"></div>
                </div>
                <div class="h-1/3 border-t border-gray-800 p-2">
                    <h3 class="px-2 pb-2 text-sm font-semibold uppercase tracking-wider text-gray-400">Estado das Variáveis</h3>
                    <pre id="variables-panel" class="w-full h-5/6 bg-[#0d1117] rounded-md p-2 text-xs"></pre>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/playground.js"></script>
</body>
</html>
