<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Pitchutcha Code Playground</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    <link href="data:image/x-icon;base64," rel="icon" type="image/x-icon"/>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/theme/material-darker.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/javascript/javascript.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"></script>

    <style>
        body { font-family: "Noto Sans", sans-serif; background-color: #0d1117; color: #e6edf3; }
        /* Garante que o CodeMirror ocupe todo o espaço e tenha o estilo correto */
        .CodeMirror { font-family: 'Space Mono', monospace; height: 100%; font-size: 14px; }
        .CodeMirror-gutters { background: #1e1e1e !important; }
        .CodeMirror-linenumber { color: #888 !important; }
        #output-panel, #diagnostics-panel { font-family: 'Space Mono', monospace; white-space: pre-wrap; word-break: break-all; }
    </style>
</head>
<body class="flex h-screen w-full flex-col">
    <header class="flex h-14 shrink-0 items-center justify-between border-b border-gray-800 px-4">
        <div class="flex items-center gap-3">
            <svg height="28" viewBox="0 0 32 32" width="28" class="fill-current text-purple-400"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 4C9.37 4 4 9.37 4 16s5.37 12 12 12 12-5.37 12-12S22.63 4 16 4zM0 16C0 7.16 7.16 0 16 0s16 7.16 16 16-7.16 16-16 16S0 24.84 0 16z"/></svg>
            <h1 class="text-lg font-semibold">Pitchutcha Playground</h1>
        </div>
        <button class="text-sm font-medium text-gray-400 hover:text-white" onclick="window.close()">Fechar</button>
    </header>

    <div class="flex flex-1 overflow-hidden">
        <div class="flex flex-1 flex-col">
            <div class="flex h-12 shrink-0 items-center gap-4 border-b border-gray-800 bg-gray-900 px-4">
                <button id="run-btn" class="flex items-center gap-2 rounded-md bg-green-600 px-3 py-1.5 text-sm font-semibold text-white hover:bg-green-700 disabled:opacity-50">
                    <span class="material-symbols-outlined text-base">play_arrow</span>
                    <span>Executar</span>
                </button>
                <button id="restore-btn" class="flex items-center gap-2 rounded-md border border-gray-700 px-3 py-1.5 text-sm font-medium text-gray-300 hover:bg-gray-800">
                    <span class="material-symbols-outlined text-base">restart_alt</span>
                    <span>Restaurar</span>
                </button>
                <button id="copy-btn" class="flex items-center gap-2 rounded-md border border-gray-700 px-3 py-1.5 text-sm font-medium text-gray-300 hover:bg-gray-800">
                    <span class="material-symbols-outlined text-base">content_copy</span>
                    <span>Copiar</span>
                </button>
                <button id="share-btn" class="flex items-center gap-2 rounded-md border border-gray-700 px-3 py-1.5 text-sm font-medium text-gray-300 hover:bg-gray-800">
                    <span class="material-symbols-outlined text-base">share</span>
                    <span>Compartilhar</span>
                </button>
            </div>

            <div class="flex-1 overflow-auto" id="editor-container"></div>
            
            <div class="flex h-1/3 flex-col border-t border-gray-800">
                <h3 class="bg-gray-900 px-4 py-2 text-sm font-semibold uppercase tracking-wider text-gray-400">Saída</h3>
                <pre id="output-panel" class="flex-1 overflow-auto bg-[#0d1117] p-4 text-sm text-gray-300"></pre>
            </div>
        </div>

        <aside class="flex w-80 flex-col border-l border-gray-800 bg-gray-900">
            <h3 class="px-4 py-2 text-sm font-semibold uppercase tracking-wider text-gray-400 border-b border-gray-800">Diagnósticos</h3>
            <div id="diagnostics-panel" class="flex-1 overflow-auto p-2">
                <p class="text-sm text-gray-500 p-2">Clique em 'Executar' para analisar o código...</p>
            </div>
        </aside>
    </div>

    <script src="js/playground.js"></script>
</body>
</html>
